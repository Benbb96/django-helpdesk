{% extends 'base_site.html' %}

{% load i18n static load_helpdesk_settings saved_queries %}

{% block title %}
    {% block helpdesk_title %}Helpdesk{% endblock %}
{% endblock %}

{% block stylesheets %}
    <!-- Morris Charts CSS -->
    <link href="{% static 'helpdesk/vendor/morrisjs/morris.css' %}" rel="stylesheet">
    <!-- DataTables CSS -->
    <link href="{% static 'helpdesk/vendor/datatables/css/dataTables.bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'helpdesk/vendor/datatables/extensions/Responsive/css/responsive.bootstrap.min.css' %}" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="{% static 'helpdesk/dist/css/sb-admin-2.css' %}" rel="stylesheet">
    <link rel='stylesheet' href='{% static "helpdesk/helpdesk-extend.css" %}' type='text/css' media="screen">

    <!-- RSS -->
    <link rel='alternate' href='{% url 'helpdesk:rss_user' user.get_username %}' type='application/rss+xml' title='{% trans "My Open Tickets" %}' />
    <link rel='alternate' href='{% url 'helpdesk:rss_activity' %}' type='application/rss+xml' title='{% trans "All Recent Activity" %}' />
    <link rel='alternate' href='{% url 'helpdesk:rss_unassigned' %}' type='application/rss+xml' title='{% trans "Unassigned Tickets" %}' />

    {% block helpdesk_head %}{% endblock %}
{% endblock %}

{% block content %}
    {% with request|load_helpdesk_settings as helpdesk_settings %}
    {% with request.user|saved_queries as user_saved_queries_ %}
        <h1>{% block h1_title %}{% trans "Helpdesk" %}{% endblock %}</h1>

        <div class="container">
            {% block helpdesk_body %}{% endblock %}
        </div>
    {% endwith %}
    {% endwith %}
{% endblock %}

{% block javascripts %}
    {{ block.super }}
    <!-- DataTables JavaScript -->
    <script src="{% static 'helpdesk/vendor/datatables/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'helpdesk/vendor/datatables/js/dataTables.bootstrap.min.js' %}"></script>
    <script src="{% static 'helpdesk/vendor/datatables/extensions/Responsive/js/dataTables.responsive.min.js' %}"></script>
{% endblock %}